$(function(){function o(){_map=new google.maps.Map(e.get(0),{zoom:14,zoomControl:!0,scrollwheel:!0,scaleControl:!0,mapTypeControl:!1,navigationControl:!0,streetViewControl:!1,disableDoubleClickZoom:!0,center:new google.maps.LatLng(25.04,121.55)});var o=getLastPosition("weather_maps_last");o?(_map.setCenter(new google.maps.LatLng(o.lat,o.lng)),_map.setZoom(o.zoom)):navigator.geolocation.getCurrentPosition(function(o){_map.setZoom(14),mapGo(_map,new google.maps.LatLng(o.coords.latitude,o.coords.longitude),function(o){setStorage.apply(this,["weather_maps_last",{lat:o.center.lat(),lng:o.center.lng(),zoom:o.zoom}])})}),google.maps.event.addListener(_map,"zoom_changed",getWeathers.bind(this,_map,0,a)),google.maps.event.addListener(_map,"idle",getWeathers.bind(this,_map,0,a)),window.closeLoading()}var e=$("<div />").attr("id","map"),a=$("<div />").addClass("loading_data").text("資料讀取中..");$container=$("#container").append($("<div />").addClass("map").append(Array.apply(null,Array(4)).map(function(){return $("<i />")})).append(e).append(a)),google.maps.event.addDomListener(window,"load",o)});